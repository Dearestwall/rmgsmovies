<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="RMG Movies - Stream latest Hindi, Punjabi, Hollywood movies in HD quality" />
  <meta name="keywords" content="online movies, Hindi movies, Punjabi movies, Hollywood movies, free movie streaming" />
  <title>RMG Movies | HD Movie Streaming Platform</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Schema.org markup -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "RMG Movies",
      "url": "https://rmgmovies.com",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "{search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
  </script>
  <!-- Firebase initialization using type=module -->
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDO9ihoH3deLDICBRv7SfUrEplpUSj9RiI",
      authDomain: "rmg-movies.firebaseapp.com",
      databaseURL: "https://rmg-movies-default-rtdb.firebaseio.com",
      projectId: "rmg-movies",
      storageBucket: "rmg-movies.firebasestorage.app",
      messagingSenderId: "273029327185",
      appId: "1:273029327185:web:ef7661638ba0f6717bcb70",
      measurementId: "G-WLV6Q944RC"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    // Initialize analytics after window load to reduce blocking on initial rendering
    window.addEventListener('load', () => {
      getAnalytics(app);
    });

    // Function to perform search and display results (remains unchanged)
    async function searchMovies() {
      const searchQuery = document.getElementById('searchInput').value.toLowerCase();
      const resultsDiv = document.getElementById('searchResults');
      const noResultsDiv = document.getElementById('noResultsMessage');
      resultsDiv.innerHTML = "";

      if (!searchQuery) {
        resultsDiv.innerHTML = "";
        noResultsDiv.style.display = "none";
        return;
      }

      // Reference to the "movies" node in Firebase
      const moviesRef = ref(database, 'movies');
      // Query for movies based on the search query
      const movieQuery = query(moviesRef, orderByChild('title'), equalTo(searchQuery));
      // Get the results from Firebase
      const snapshot = await get(movieQuery);

      if (snapshot.exists()) {
        const data = snapshot.val();
        let resultsHtml = "<ul>";
        for (const key in data) {
          const movie = data[key];
          resultsHtml += `
            <li>
              <h3>${movie.title}</h3>
              <p>Genre: ${movie.genre}</p>
              <p>Year: ${movie.year}</p>
              <img src="${movie.poster}" alt="${movie.title} Poster" width="200" height="300">
            </li>
          `;
        }
        resultsHtml += "</ul>";
        resultsDiv.innerHTML = resultsHtml;
        noResultsDiv.style.display = "none";
      } else {
        noResultsDiv.style.display = "block";
      }
    }

    // Event listener for search button
    document.getElementById('searchBtn').addEventListener('click', searchMovies);
  </script>
</head>

<body>
  <header>
    <div class="logo">
      <img src="https://media-hosting.imagekit.io//caeeec1ef6d142d0/IMG_20250125_212359_929.jpg?Expires=1832428628&Key-Pair-Id=K2ZIVPTIP2VGHC&Signature=OWAbI03NYfcvf-XuzIOe121bCKwyrSlB5FYRmRgx-i0yFzeoVUanawqCF~OW4N8F5rO-7bK4F81OMzCOjIo~zcpvhA1Z40FKgq8TQPMDaDQgfbGCIdiQJa7RbmJK8L277tahvSPyETrNBT6b3593otgqsOKB~xcziOxn8Tp2j-TsKhFS0uoY5LF39JXx71T-PDpk2SmETVUMIrWWMXxrv1eoyeS~elw3YqJB1haGmrSZ-PSxCv~9vUxniTUt9K~MqMkH8sjbroJWq6AICxquZaeck3MPqfeizUDghvgzdT1qoLOvW95lHw9vYpKcPHxgzsA3DGb7arKzz50oHU97-g__" alt="RMG Movies Logo" class="logo-image" loading="lazy" width="60" height="60">
      <h1>RMG Movies</h1>
    </div>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search movies..." aria-label="Search movies">
      <button id="searchBtn">Search</button>
    </div>
  </header>
 
  <main>
    <div id="noResultsMessage" class="no-results-message" style="display: none;">
      <p>No movies found matching your search term try exact keyword.</p>
    </div>
    
    <!-- Hindi Movies Section -->
    <section class="movie-section" aria-label="Hindi Movies">
      <h2>Hindi Movies</h2>
      <div class="movie-container">
        <div class="movie-list">
          
          <article class="movie-card" data-movie-id="SkyForce">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvVysvrvaHP3y_NMP9uCv_qVpE_kj3IOmz3A&s" alt="SkyForce Poster" width="300" height="450" loading="lazy">
            <h3>SkyForce</h3>
          </article>

          <article class="movie-card" data-movie-id="hindi2">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Hindi Movie 2 Poster" width="300" height="450" loading="lazy">
            <h3>Hindi Movie 2</h3>
          </article>
          
          <article class="movie-card" data-movie-id="hindi3">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Hindi Movie 3 Poster" width="300" height="450" loading="lazy">
            <h3>Hindi Movie 3</h3>
          </article>
        
          <!-- Repeat for other Hindi movies -->
       
        </div>
      </div>
    </section>

    <!-- Punjabi Movies Section -->
    
    <section class="movie-section" aria-label="Punjabi Movies">
      <h2>Punjabi Movies</h2>
      <div class="movie-container">
        <div class="movie-list">
          
          <article class="movie-card" data-movie-id="punjabi1">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Punjabi Movie 1 Poster" width="300" height="450" loading="lazy">
            <h3>Punjabi Movie 1</h3>
          </article>
         
          <!-- Repeat for other Punjabi movies -->
      
        </div>
      </div>
    </section>

    <!-- Hollywood Movies Section -->
   
    <section class="movie-section" aria-label="Hollywood Movies">
      <h2>Hollywood Movies</h2>
      <div class="movie-container">
        <div class="movie-list">
        
          <article class="movie-card" data-movie-id="hollywood1">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Hollywood Movie 1 Poster" width="300" height="450" loading="lazy">
            <h3>Hollywood Movie 1</h3>
          </article>
         
          <article class="movie-card" data-movie-id="hollywood2">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Hollywood Movie 2 Poster" width="300" height="450" loading="lazy">
            <h3>Hollywood Movie 2</h3>
          </article>
        
          <article class="movie-card" data-movie-id="hollywood3">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Hollywood Movie 3 Poster" width="300" height="450" loading="lazy">
            <h3>Hollywood Movie 3</h3>
          </article>
         
          <!-- Repeat for other Hollywood movies -->
       
        </div>
      </div>
    </section>

    <!-- Anime Movies Section -->
   
    <section class="movie-section" aria-label="Anime">
      <h2>Anime</h2>
      <div class="movie-container">
        <div class="movie-list">
        
          <article class="movie-card" data-movie-id="Anime1">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRwsm7R59dFD3X1IfhBrEXtsWVxo7B8fTZjWQ&s" alt="Anime 1 Poster" width="300" height="450" loading="lazy">
            <h3>Anime 1</h3>
          </article>
         
          <!-- Repeat for other Anime's -->
       
        </div>
      </div>
    </section>
  </main>

  <footer>
    <a href="https://t.me/RMGBACKUP101" target="_blank" rel="noopener noreferrer" aria-label="Join our Telegram channel">
      <img src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg" alt="Telegram Logo" width="24" height="24">
      Join Telegram
    </a>
    <p>&copy; 2025 RMG Movies</p>
  </footer>
  
  <!-- Movie Modal -->
  <div id="movieModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal()">&times;</span>
      <h2 id="movieTitle"></h2>
      <img id="movieImage" src="" alt="Movie Image">
      <p id="movieDescription"></p>
      <div id="movieLinks"></div>
      <button id="homeBtn" class="btn">üè† Go to Home</button>
    </div>
  </div>

  <!-- Links Modal Structure -->
  <div id="linksModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 id="linksModalTitle"></h2>
      <div class="links-container" id="linksList"></div>
    </div>
  </div>

  <!-- (Optional) Dynamically load GTM after main content loads to reduce initial blocking -->
  <script>
    window.addEventListener('load', function () {
      const gtmScript = document.createElement('script');
      gtmScript.async = true;
      gtmScript.src = 'https://www.googletagmanager.com/gtag/js?id=G-WLV6Q944RC&l=dataLayer';
      document.body.appendChild(gtmScript);
    });
  </script>

  <!-- Defer external JS -->
  <script defer src="script.js"></script>
</body>
</html>
